# 前缀和

前缀和不算一个模板，其实是2个公式。

![](imgs/prefix_sum.png)

## 公式

$$
s[i] = s[i-1] + a_i
$$

$$
sum(L,R) = s_R-s_{L-1}
$$



## 作用

能快速求出，原数组中一段的和。

例如，求[l,r]的和，如果没有前缀和，时间复杂度O(n)。

前缀和预处理是O(n), 每次查询是O(1)。

## 题目

795

## 注意

- 为了定义 s[0] = 0，避免处理麻烦的边界，数组从下标为1的地方开始存，而不是从0开始。

# 子矩阵的和

![](imgs/submatrix_sum.png)

# 小发现

凡是有减1操作的，比如 f(i-1), f(j-1)，在定义下标的时候，都是从1开始的。不管是DP问题、前缀和问题、哈希问题，都是这样。这也是为什么定义数组长度的时候，喜欢多10个数，就是为了防止下标越界。