# DFS之连通性模型

- flood fill
- 图和树的遍历

这些题都有一个共同点，一般是给一个二维数组，一般是从其中一个点，判断能不能走到另外一个点。它是在棋盘内部去做的，包括树与图的遍历也是一样。树与图的遍历，把整张图看成一张地图，在这个内部问我们，能否从其中一个点走到另外一个点，或者是哪些点与当前的点是连通的。是一个局部的信息，从图的一部分，是否能走到图的另外一个部分。

DFS还有第二大类，也是最广泛的一类，比如后面讲的搜索顺序，剪枝，迭代加深，双向DFS。这些都是把这个部分看成一个整体，能否变成另外一个整体。也就是，把整体当成了一个点，如果能变成其他整体的话，就看成变成另一个点。在这个整体与整体之间，搜索。

举个例子，这个整体可以看成一个人，连通性是问，在人体内部，能否从左手走到右脚。但除了连通性之外的其他DFS，一般是问我们，能否从我这个人，传递消息，传递给另外一个同学。大家一定要注意这个区别。

## 什么时候恢复现场，什么时候不恢复

深搜有2种模型：

- 第一种是人体内部，从一个地方到另外一个地方。
- 第二种模型是把人当成一个整体，人和人之间可以传递信息，问信息能否传到另一个人那儿。

搞清楚我们搜的棋盘，是整个（所有点的集合），还是其中一个点。这也是初学者最容易迷惑的地方。

这个会影响什么呢？会影响深搜的时候的回溯，就是我们要不要恢复现场。如果是在人体内部从某一个点搜索到另外一个点的话，为了保证每个点只被搜一次，所以是不能恢复现场的。但是如果把整个棋盘当成一个状态，我们想看一下这个棋盘能不能变到另外一个棋盘，那么当我们搜完一个分支之后，一定要把棋盘恢复原状，才可以搜下一个部分。

## 题目

- 1112 迷宫。如果用DFS做，只能告诉我们是不是能到，但不能找到最短距离。这是DFS相比于BFS的一个局限问题。DFS的好处是，假如一个题目既能用DFS, 也能用BFS实现时，DFS的代码会短很多，写的时候会快很多。
- 1113 红与黑。
